#-----------------------------------------------------------------------
=begin
  Scenario: I should be able to add monies in different currencies and convert them to usd
    When I open the app
    Then the app should ask me to enter the first amount in php
    When I enter the first amount
    Then the app should ask me to enter the second amount in usd
    When I enter the second amount
    Then the app should tell me the sum of the two amounts in usd
=end

#-----------------------------------------------------------------------
# app

#-----------------------------------------------------------------------
# money

  def add(other)
    Money.new(:amount => self.to_usd.amount + other.to_usd.amount, :currency => Currency.find('USD'))
  end

  def to_s
    "#{amount} #{currency.symbol}"
  end

  def to_usd
    Money.new(:amount => self.amount * self.currency.usd_conversion_rate, :currency => Currency.find('USD'))
  end

#-----------------------------------------------------------------------
# currency

    has_value :usd_conversion_rate


#-----------------------------------------------------------------------

